<mat-card class="mt-3">
  <div class="d-flex justify-content-between">
    <mat-card-title>Issues</mat-card-title>
  </div>
  <mat-card-content>
    <mat-tab-group>
      <mat-tab label="Severties">
        <div class="d-flex justify-content-around">
          <div class="w-75">
            <canvas class="issueBarChart" baseChart [data]="chartSeverityData" [labels]="chartSeverityLabels"
              [chartType]="barChartType" [legend]="false" [options]="barOptions">
            </canvas>
          </div>
          <div class="align-self-center">
            <mat-radio-group [(ngModel)]="selectedSeverityGraph">
              <mat-radio-button class="graph-select-radio" *ngFor="let graph of graphs" [value]="graph"
                (change)="changeSevertyGraph($event)">
                {{ graph }}
              </mat-radio-button>
            </mat-radio-group>
          </div>
        </div>
      </mat-tab>
      <mat-tab label="Types">
        <div class="d-flex justify-content-around">
          <div class="w-75">
            <canvas class="issueBarChart" baseChart [data]="chartIssueTypeData" [labels]="chartIssueTypeLabels"
              [chartType]="barChartType" [legend]="false">
            </canvas>
          </div>
          <div class="align-self-center">
            <mat-radio-group [(ngModel)]="selectedIssueTypeGraph">
              <mat-radio-button class="graph-select-radio" *ngFor="let graph of graphs" [value]="graph"
                (change)="changeTypeGraph($event)">
                {{ graph }}
              </mat-radio-button>
            </mat-radio-group>
          </div>
        </div>
      </mat-tab>
      <mat-tab label="Issues overview">
        <div>
          <table mat-table matSort [dataSource]="issues" class="mat-elevation-z8">

            <ng-container matColumnDef="component">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Component</th>
              <td mat-cell *matCellDef="let element">{{element.component | filePipe}}</td>
            </ng-container>

            <ng-container matColumnDef="creationDate">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Creation Date</th>
              <td mat-cell *matCellDef="let element">{{element.creationDate | date:"MM/dd/yy" }}</td>
            </ng-container>

            <ng-container matColumnDef="message">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Message</th>
              <td mat-cell *matCellDef="let element">{{element.message}}</td>
            </ng-container>

            <ng-container matColumnDef="severity">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Severity</th>
              <td mat-cell *matCellDef="let element">{{element.severity}}</td>
            </ng-container>

            <ng-container matColumnDef="type">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Type</th>
              <td mat-cell *matCellDef="let element">{{element.type}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedIssueColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedIssueColumns;"></tr>
          </table>
          <mat-paginator [pageSizeOptions]="[5]" showFirstLastButtons></mat-paginator>
        </div>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>