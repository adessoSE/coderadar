<app-header [title]="[{location: '/dashboard', name: 'Dashboard'}]"></app-header>
<div *ngIf="waiting" style="height: 100%">
  <mat-spinner class="waitingIndicator" [diameter]="100"></mat-spinner>
</div>
<mat-sidenav-container class="sidenav">
  <mat-sidenav mode="side" opened style="width: 15%">
    <mat-nav-list>
      <a mat-list-item [routerLink]="'/dashboard'"> My projects </a>
      <a mat-list-item [routerLink]="'/teams'"> My teams </a>
      <a mat-list-item [routerLink]="'/dashboard'"> Settings </a>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <main class="card-list">
      <div class="grid-container">

        <!--Message displayed if no projects are found-->
        <div *ngIf="teams.length == 0" align="center" id="noProjectsMessage">
          You aren't in any team yet. <br>
          Click on the plus button to create a team.
        </div>

        <!--Teams card list-->
        <mat-grid-list cols="2" rowHeight="170px">
          <mat-grid-tile *ngFor="let team of teams" [colspan]="2" [rowspan]="1">
            <mat-card class="dashboard-card">
              <mat-card-header>
                <mat-card-title>
                  <a mat-button routerLink="/project/{{team.id}}">{{team.name}}</a>
                  <button title="Start analysis" style="float:right" mat-icon-button>
                    <mat-icon>play_arrow</mat-icon>
                  </button>
                  <button title="Stop analysis" style="float:right" mat-icon-button>
                    <mat-icon>stop</mat-icon>
                  </button>
                  <button title="Delete analysis results" style="float:right" mat-icon-button>
                    <mat-icon>clear</mat-icon>
                  </button>
                  <button [matMenuTriggerFor]="menu" aria-label="Toggle menu" class="more-button" mat-icon-button>
                    <mat-icon>more_vert</mat-icon>
                  </button>
                  <mat-menu #menu="matMenu" xPosition="before">
                    <button mat-menu-item routerLink="/project-edit/{{team.id}}">Edit</button>
                    <button mat-menu-item routerLink="/project-configure/{{team.id}}">Configure</button>
                    <button mat-menu-item>Remove</button>
                  </mat-menu>
                </mat-card-title>
              </mat-card-header>
              <mat-card-content class="mat-card-content">
                Content
              </mat-card-content>
            </mat-card>
          </mat-grid-tile>

          <!--The big plus button-->
          <a class="add-button" color="accent" mat-fab routerLink="/add-project">
            <mat-icon class="add-icon">+</mat-icon>
          </a>

        </mat-grid-list>
      </div>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
<app-footer></app-footer>
